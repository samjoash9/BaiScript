# Electron Setup Guide for BaiScript IDE

## Prerequisites

1. Node.js and npm installed
2. Your compiled `main.exe` executable (the C compiler backend)

## Installation

1. Install dependencies:
```bash
npm install
```

## Setup

1. **Place your `main.exe` file:**
   - Copy your compiled `main.exe` to the project root directory (same level as `package.json`)
   - The Electron app will look for it at: `./main.exe`

2. **Alternative location:**
   - If you want to place `main.exe` in a different location, edit `electron/main.js`
   - Update the `exePath` variable on line 40 to point to your executable

## Running the Application

### Development Mode (with hot reload)
```bash
# Terminal 1: Start Vite dev server
npm run dev

# Terminal 2: Start Electron (in a new terminal)
npm run electron:dev
```

### Production Build
```bash
# Build the React app
npm run build

# Run Electron with the built app
npm run electron:dev
```

## How It Works

1. When you click "Run" in the IDE:
   - The source code from the "Source Code" editor is sent to the Electron main process
   - The main process writes the code to `input.txt` in the project root
   - It then executes `main.exe`
   - The output from `main.exe` is captured and sent back to the frontend
   - The output is displayed in the "Output" section

## File Structure

```
CPL_IDE/
├── main.exe          # Your C compiler executable (place here)
├── input.txt         # Generated automatically (source code input)
├── output.txt        # Generated by main.exe (if your compiler writes to this)
├── electron/
│   ├── main.js       # Electron main process
│   └── preload.js    # Preload script for secure IPC
├── src/
│   └── App.tsx       # Main React component
└── package.json
```

## Customizing Output Parsing

If your compiler outputs target code and machine code separately, you can modify the `handleRun` function in `src/App.tsx` to parse the output and populate the respective sections.

## Troubleshooting

1. **"main.exe not found" error:**
   - Make sure `main.exe` is in the project root directory
   - Check the path in `electron/main.js` if you placed it elsewhere

2. **Output not showing:**
   - Check if your compiler writes to stdout or to `output.txt`
   - The Electron main process reads from both stdout and `output.txt`

3. **Permission errors:**
   - Make sure `main.exe` has execute permissions
   - On Windows, this should be automatic

